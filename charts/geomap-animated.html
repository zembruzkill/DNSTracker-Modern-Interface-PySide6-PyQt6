
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
  <div id="container" style="height: 100%"></div>

  <script src="echarts.js"></script>
  <script src="jquery.js"></script>

  <script type="text/javascript">
    var dom = document.getElementById('container');

    echarts.registerTheme('purple-passion', {
      "color": [
          "#25254A",
          "#e098c7",
          "#8fd3e8",
          "#71669e",
          "#cc70af",
          "#7cb4cc"
      ],
      "backgroundColor": "#323258",
      "textStyle": {},
      "title": {
          "textStyle": {
              "color": "#ffffff"
          },
          "subtextStyle": {
              "color": "#cccccc"
          }
      },
      "line": {
          "itemStyle": {
              "borderWidth": "2"
          },
          "lineStyle": {
              "width": "3"
          },
          "symbolSize": "7",
          "symbol": "circle",
          "smooth": true
      },
      "radar": {
          "itemStyle": {
              "borderWidth": "2"
          },
          "lineStyle": {
              "width": "3"
          },
          "symbolSize": "7",
          "symbol": "circle",
          "smooth": true
      },
      "bar": {
          "itemStyle": {
              "barBorderWidth": 0,
              "barBorderColor": "#ccc"
          }
      },
      "pie": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          }
      },
      "scatter": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          }
      },
      "boxplot": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          }
      },
      "parallel": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          }
      },
      "sankey": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          }
      },
      "funnel": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          }
      },
      "gauge": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          }
      },
      "candlestick": {
          "itemStyle": {
              "color": "#e098c7",
              "color0": "transparent",
              "borderColor": "#e098c7",
              "borderColor0": "#8fd3e8",
              "borderWidth": "2"
          }
      },
      "graph": {
          "itemStyle": {
              "borderWidth": 0,
              "borderColor": "#ccc"
          },
          "lineStyle": {
              "width": 1,
              "color": "#aaa"
          },
          "symbolSize": "7",
          "symbol": "circle",
          "smooth": true,
          "color": [
              "#9b8bba",
              "#e098c7",
              "#8fd3e8",
              "#71669e",
              "#cc70af",
              "#7cb4cc"
          ],
          "label": {
              "color": "#eee"
          }
      },
      "map": {
          "itemStyle": {
              "areaColor": "#eee",
              "borderColor": "#444",
              "borderWidth": 0.5
          },
          "label": {
              "color": "#000"
          },
          "emphasis": {
              "itemStyle": {
                  "areaColor": "#e098c7",
                  "borderColor": "#444",
                  "borderWidth": 1
              },
              "label": {
                  "color": "#ffffff"
              }
          }
      },
      "geo": {
          "itemStyle": {
              "areaColor": "#eee",
              "borderColor": "#444",
              "borderWidth": 0.5
          },
          "label": {
              "color": "#000"
          },
          "emphasis": {
              "itemStyle": {
                  "areaColor": "#e098c7",
                  "borderColor": "#444",
                  "borderWidth": 1
              },
              "label": {
                  "color": "#ffffff"
              }
          }
      },
      "categoryAxis": {
          "axisLine": {
              "show": true,
              "lineStyle": {
                  "color": "#cccccc"
              }
          },
          "axisTick": {
              "show": false,
              "lineStyle": {
                  "color": "#333"
              }
          },
          "axisLabel": {
              "show": true,
              "color": "#cccccc"
          },
          "splitLine": {
              "show": false,
              "lineStyle": {
                  "color": [
                      "#eeeeee",
                      "#333333"
                  ]
              }
          },
          "splitArea": {
              "show": true,
              "areaStyle": {
                  "color": [
                      "rgba(250,250,250,0.05)",
                      "rgba(200,200,200,0.02)"
                  ]
              }
          }
      },
      "valueAxis": {
          "axisLine": {
              "show": true,
              "lineStyle": {
                  "color": "#cccccc"
              }
          },
          "axisTick": {
              "show": false,
              "lineStyle": {
                  "color": "#333"
              }
          },
          "axisLabel": {
              "show": true,
              "color": "#cccccc"
          },
          "splitLine": {
              "show": false,
              "lineStyle": {
                  "color": [
                      "#eeeeee",
                      "#333333"
                  ]
              }
          },
          "splitArea": {
              "show": true,
              "areaStyle": {
                  "color": [
                      "rgba(250,250,250,0.05)",
                      "rgba(200,200,200,0.02)"
                  ]
              }
          }
      },
      "logAxis": {
          "axisLine": {
              "show": true,
              "lineStyle": {
                  "color": "#cccccc"
              }
          },
          "axisTick": {
              "show": false,
              "lineStyle": {
                  "color": "#333"
              }
          },
          "axisLabel": {
              "show": true,
              "color": "#cccccc"
          },
          "splitLine": {
              "show": false,
              "lineStyle": {
                  "color": [
                      "#eeeeee",
                      "#333333"
                  ]
              }
          },
          "splitArea": {
              "show": true,
              "areaStyle": {
                  "color": [
                      "rgba(250,250,250,0.05)",
                      "rgba(200,200,200,0.02)"
                  ]
              }
          }
      },
      "timeAxis": {
          "axisLine": {
              "show": true,
              "lineStyle": {
                  "color": "#cccccc"
              }
          },
          "axisTick": {
              "show": false,
              "lineStyle": {
                  "color": "#333"
              }
          },
          "axisLabel": {
              "show": true,
              "color": "#cccccc"
          },
          "splitLine": {
              "show": false,
              "lineStyle": {
                  "color": [
                      "#eeeeee",
                      "#333333"
                  ]
              }
          },
          "splitArea": {
              "show": true,
              "areaStyle": {
                  "color": [
                      "rgba(250,250,250,0.05)",
                      "rgba(200,200,200,0.02)"
                  ]
              }
          }
      },
      "toolbox": {
          "iconStyle": {
              "borderColor": "#999"
          },
          "emphasis": {
              "iconStyle": {
                  "borderColor": "#666"
              }
          }
      },
      "legend": {
          "textStyle": {
              "color": "#cccccc"
          }
      },
      "tooltip": {
          "axisPointer": {
              "lineStyle": {
                  "color": "#ccc",
                  "width": 1
              },
              "crossStyle": {
                  "color": "#ccc",
                  "width": 1
              }
          }
      },
      "timeline": {
          "lineStyle": {
              "color": "#8fd3e8",
              "width": 1
          },
          "itemStyle": {
              "color": "#8fd3e8",
              "borderWidth": 1
          },
          "controlStyle": {
              "color": "#8fd3e8",
              "borderColor": "#8fd3e8",
              "borderWidth": 0.5
          },
          "checkpointStyle": {
              "color": "#8fd3e8",
              "borderColor": "#8a7ca8"
          },
          "label": {
              "color": "#8fd3e8"
          },
          "emphasis": {
              "itemStyle": {
                  "color": "#8fd3e8"
              },
              "controlStyle": {
                  "color": "#8fd3e8",
                  "borderColor": "#8fd3e8",
                  "borderWidth": 0.5
              },
              "label": {
                  "color": "#8fd3e8"
              }
          }
      },
      "visualMap": {
          "color": [
              "#8a7ca8",
              "#e098c7",
              "#cceffa"
          ]
      },
      "dataZoom": {
          "backgroundColor": "rgba(0,0,0,0)",
          "dataBackgroundColor": "rgba(255,255,255,0.3)",
          "fillerColor": "rgba(167,183,204,0.4)",
          "handleColor": "#a7b7cc",
          "handleSize": "100%",
          "textStyle": {
              "color": "#333"
          }
      },
      "markPoint": {
          "label": {
              "color": "#eee"
          },
          "emphasis": {
              "label": {
                  "color": "#eee"
              }
          }
      }
  });

    var myChart = echarts.init(dom, 'purple-passion');

    var app = {};
    var option;

    /*------------------------------------------------------------------------------------*/

    myChart.showLoading();
    $.get('USA.json', function (usaJson) {
    myChart.hideLoading();
    echarts.registerMap('USA', usaJson, {
        Alaska: {
        left: -131,
        top: 25,
        width: 15
        },
        Hawaii: {
        left: -110,
        top: 28,
        width: 5
        },
        'Puerto Rico': {
        left: -76,
        top: 26,
        width: 2
        }
    });
    var data = [
        { name: 'Alabama', value: 4822023 },
        { name: 'Alaska', value: 731449 },
        { name: 'Arizona', value: 6553255 },
        { name: 'Arkansas', value: 2949131 },
        { name: 'California', value: 38041430 },
        { name: 'Colorado', value: 5187582 },
        { name: 'Connecticut', value: 3590347 },
        { name: 'Delaware', value: 917092 },
        { name: 'District of Columbia', value: 632323 },
        { name: 'Florida', value: 19317568 },
        { name: 'Georgia', value: 9919945 },
        { name: 'Hawaii', value: 1392313 },
        { name: 'Idaho', value: 1595728 },
        { name: 'Illinois', value: 12875255 },
        { name: 'Indiana', value: 6537334 },
        { name: 'Iowa', value: 3074186 },
        { name: 'Kansas', value: 2885905 },
        { name: 'Kentucky', value: 4380415 },
        { name: 'Louisiana', value: 4601893 },
        { name: 'Maine', value: 1329192 },
        { name: 'Maryland', value: 5884563 },
        { name: 'Massachusetts', value: 6646144 },
        { name: 'Michigan', value: 9883360 },
        { name: 'Minnesota', value: 5379139 },
        { name: 'Mississippi', value: 2984926 },
        { name: 'Missouri', value: 6021988 },
        { name: 'Montana', value: 1005141 },
        { name: 'Nebraska', value: 1855525 },
        { name: 'Nevada', value: 2758931 },
        { name: 'New Hampshire', value: 1320718 },
        { name: 'New Jersey', value: 8864590 },
        { name: 'New Mexico', value: 2085538 },
        { name: 'New York', value: 19570261 },
        { name: 'North Carolina', value: 9752073 },
        { name: 'North Dakota', value: 699628 },
        { name: 'Ohio', value: 11544225 },
        { name: 'Oklahoma', value: 3814820 },
        { name: 'Oregon', value: 3899353 },
        { name: 'Pennsylvania', value: 12763536 },
        { name: 'Rhode Island', value: 1050292 },
        { name: 'South Carolina', value: 4723723 },
        { name: 'South Dakota', value: 833354 },
        { name: 'Tennessee', value: 6456243 },
        { name: 'Texas', value: 26059203 },
        { name: 'Utah', value: 2855287 },
        { name: 'Vermont', value: 626011 },
        { name: 'Virginia', value: 8185867 },
        { name: 'Washington', value: 6897012 },
        { name: 'West Virginia', value: 1855413 },
        { name: 'Wisconsin', value: 5726398 },
        { name: 'Wyoming', value: 576412 },
        { name: 'Puerto Rico', value: 3667084 }
    ];
    data.sort(function (a, b) {
        return a.value - b.value;
    });
    const mapOption = {
        visualMap: {
        left: 'right',
        min: 500000,
        max: 38000000,
        inRange: {
            // prettier-ignore
            color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
        },
        text: ['High', 'Low'],
        calculable: true
        },
        series: [
        {
            id: 'population',
            type: 'map',
            roam: true,
            map: 'USA',
            animationDurationUpdate: 1000,
            universalTransition: true,
            data: data
        }
        ]
    };
    const barOption = {
        xAxis: {
        type: 'value'
        },
        yAxis: {
        type: 'category',
        axisLabel: {
            rotate: 30
        },
        data: data.map(function (item) {
            return item.name;
        })
        },
        animationDurationUpdate: 1000,
        series: {
        type: 'bar',
        id: 'population',
        data: data.map(function (item) {
            return item.value;
        }),
        universalTransition: true
        }
    };
    let currentOption = mapOption;
    myChart.setOption(mapOption);
    setInterval(function () {
        currentOption = currentOption === mapOption ? barOption : mapOption;
        myChart.setOption(currentOption, true);
    }, 2000);
    });


    /*------------------------------------------------------------------------------------*/

    if (option && typeof option === 'object') {
      myChart.setOption(option);
    }

    window.addEventListener('resize', myChart.resize);
  </script>
</body>
</html>